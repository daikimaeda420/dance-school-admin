/* globals.css 置き換え用 */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* ===== Accessible UI Baseline (Light/Dark 両対応) ================= */
:root {
  /* surfaces & text */
  --bg: #f8fafc; /* ページ背景 (light) */
  --surface: #ffffff; /* カード/入力背景 (light) */
  --fg: #0b0f19; /* 本文 */
  --muted: #4b5563; /* 補助テキスト */
  --border: #e5e7eb; /* 枠線 */
  --ring: #64748b; /* フォーカスリング */
  --ringA: rgba(100, 116, 139, 0.35); /* フォールバック用 */

  /* accent */
  --primary: #2563eb; /* blue-600 */
  --primaryH: #1d4ed8; /* hover */
}
.dark {
  --bg: #0b0f19; /* ページ背景 (dark) */
  --surface: #111827; /* カード/入力背景 */
  --fg: #e5e7eb; /* 本文 */
  --muted: #cbd5e1; /* 補助テキスト */
  --border: #334155; /* 枠線 */
  --ring: #94a3b8; /* フォーカスリング */
  --ringA: rgba(148, 163, 184, 0.35);
}

@layer base {
  html,
  body {
    height: 100%;
  }
  /* ページ全体の既定色。bg はレイアウト側の Tailwind に任せて、文字色のみ強制。 */
  html,
  body {
    color: var(--fg);
  }
  ::selection {
    background: color-mix(in oklab, var(--ring) 40%, transparent);
    color: var(--fg);
  }
}

/* ===== Reusable Components ======================================= */
@layer components {
  /* Card */
  .card {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 14px;
  }
  .card-header {
    padding: 12px 16px;
    border-bottom: 1px solid var(--border);
  }
  .card-body {
    padding: 14px 16px;
  }

  /* Inputs (input/textarea 共通) */
  .input {
    background: var(--surface);
    color: var(--fg);
    border: 1px solid var(--border);
    border-radius: 10px;
    padding: 10px 12px;
    line-height: 1.5;
  }
  .input::placeholder {
    color: var(--muted);
    opacity: 0.9;
  }
  .input:focus {
    outline: none;
    /* color-mix が使えない環境向けに box-shadow を二重指定 */
    box-shadow: 0 0 0 3px var(--ringA);
    box-shadow: 0 0 0 3px color-mix(in oklab, var(--ring) 40%, transparent);
    border-color: var(--ring);
  }

  /* Buttons */
  .btn-ghost {
    border: 1px solid var(--border);
    background: transparent;
    border-radius: 10px;
    padding: 8px 12px;
    transition: background 0.15s ease, border-color 0.15s ease;
  }
  .btn-ghost:hover {
    background: color-mix(in oklab, var(--fg) 6%, transparent);
  }
  .btn-ghost:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }

  .btn-primary {
    background: var(--primary);
    color: #fff;
    border-radius: 10px;
    padding: 8px 14px;
    transition: background 0.15s ease, transform 0.02s ease;
  }
  .btn-primary:hover {
    background: var(--primaryH);
  }
  .btn-primary:active {
    transform: translateY(0.5px);
  }
  .btn-primary:disabled {
    opacity: 0.6;
    cursor: not-allowed;
  }
}

/* ===== Optional helpers ========================================== */
:root {
  --app-bg: #0b0b0c;
} /* 既存変数は残します（未使用でもOK） */
